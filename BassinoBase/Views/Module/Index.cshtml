@using BassinoBase.Controllers
@using BassinoLibrary.Helpers
@using BassinoLibrary.Resource
@using BassinoLibrary.ViewModels

<script>

    $(document).ready(function() {
        $("#Buscar").keyup(function(e) {
            if (e.which == 13)
                RefrescarGrilla();
        });
        updateTitle("Modulos", "Configuraciones");
    });

    function RefrescarGrilla() {
        $(".k-grid").each(function() {
            $(this).data("kendoGrid").dataSource.page(1);
            $(this).data("kendoGrid").dataSource.read();
        });
    }


</script>

    @Helpers.Buscador()
@Helpers.BotonesActiones(true, true, true, true, "Module")

@(Html.KendoGrid().Grid<ModuleViewModel, ModuleController>()
    .Name("GridModule")
    .Columns(columns =>
    {
        columns.Template(@<text></text>).Width(50).ClientTemplate("<input type='checkbox' onClick='disableOnChecked(#= id #)' name='actions' class='chkbx' value='#= id #' id='#= id #'/>");
			columns.Bound(p => p.ModuleName);
			columns.Bound(p => p.ModuleParent);
	    })
	.EditarBorrar(true,true)
    .DataSource(dataSource => dataSource
        .Ajax()
        .Model(conf => conf.Id(model => model.Id))
        .PageSize(10)
        .Read(read => read.Action("GridInfo", "Module"))
    )
)
