<div class="modal-dialog" id="modal-dialog">
    <div class="modal-content">

        <div id="headModal" class="modal-header">
            @RenderSection("Header")
        </div>

        @if (ViewBag.ControllerName != null)
        {
            using (Ajax.BeginForm((string)ViewBag.Action, (string)ViewBag.ControllerName, null, new AjaxOptions { HttpMethod = "POST", InsertionMode = InsertionMode.Replace, UpdateTargetId = "modal", OnBegin = "block();", OnComplete = "unBlock();" },
                new { @role = "form", @id = (string)ViewBag.FormId }))
            {
                <div id="bodyModal" class="modal-body">
                    @RenderBody()
                </div>
                <div class="modal-footer">
                    @RenderSection("Footer", false)
                </div>
            }
        }
        else
        {
            using (Ajax.BeginForm((string)ViewBag.Action, null, new AjaxOptions { HttpMethod = "POST", InsertionMode = InsertionMode.Replace, UpdateTargetId = "modal", OnBegin = "block();", OnComplete = "unBlock();" },
                new { @role = "form", @id = "formId" }))
            {
                <div class="modal-body">
                    @RenderBody()
                </div>
                <div class="modal-footer">
                    @RenderSection("Footer", false)
                </div>
            }
        }

    </div>
</div>